<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Simulador PvP 3D — 5 Ejércitos, Visuales por Clase, Healers -15%, Estructuras ampliadas</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="gameContainer">
    <canvas id="threeCanvas"></canvas>

    <div id="ui">
    <div class="panel top">
      <div class="status" id="statusTxt">Hasta 5 ejércitos, clases con aspecto propio, sanadores -15% de velocidad, estructuras con rango ampliable.</div>
      <div class="hint">Vista satelital inclinada. Click en el canvas para rotar; rueda para zoom; botón derecho para desplazar.</div>
    </div>

    <div class="panel right">
      <h3>Estado</h3>

      <div class="row grid3">
        <div>
          <div class="kv"><span>Velocidad</span><span class="mini" id="speedLbl">1.00x</span></div>
          <input id="speed" type="range" min="0.5" max="2.6" step="0.05" value="1.0"/>
        </div>
        <div class="switch" style="align-self:end;"><input id="satelliteCam" type="checkbox" checked/><span>Vista satelital</span></div>
        <div class="switch" style="align-self:end;"><input id="showTrails" type="checkbox" checked/><span>Estelas</span></div>
      </div>

      <div class="settings-section">
        <h4>Configuración global</h4>

        <div class="row grid2">
          <div>
            <div class="kv"><span>Composición</span><span class="mini">por equipo</span></div>
            <select id="composition">
              <option value="balanced">Equilibrada (8)</option>
              <option value="melee">Cuerpo a cuerpo (8)</option>
              <option value="ranged">A distancia (8)</option>
              <option value="support">Soporte (8)</option>
              <option value="random">Aleatoria (8)</option>
            </select>
          </div>
          <div>
            <div class="kv"><span>Tamaño equipo</span><span class="mini"><span id="teamSizeLbl">8</span> (4–16)</span></div>
            <input id="teamSize" type="number" min="4" max="16" step="1" value="8" />
          </div>
        </div>

        <div class="row grid2">
          <div>
            <div class="kv"><span>Número de ejércitos</span><span class="mini" id="teamsLbl">2</span></div>
            <input id="teamsCount" type="range" min="2" max="5" step="1" value="2"/>
          </div>
          <div>
            <div class="kv"><span>Radio estructuras</span><span class="mini" id="structRadLbl">1.00×</span></div>
            <input id="structRad" type="range" min="0.6" max="1.6" step="0.05" value="1.0"/>
          </div>
        </div>

        <div class="row grid2">
          <div>
            <div class="kv"><span>Piedras</span><span class="mini" id="rocksLbl">36</span></div>
            <input id="rocks" type="range" min="0" max="160" step="2" value="36"/>
          </div>
          <div>
            <div class="kv"><span>Árboles</span><span class="mini" id="treesLbl">48</span></div>
            <input id="trees" type="range" min="0" max="220" step="2" value="48"/>
          </div>
        </div>

        <div class="row grid2">
          <div>
            <div class="kv"><span>Rugosidad</span><span class="mini" id="roughLbl">1.8</span></div>
            <input id="rough" type="range" min="0.8" max="3.2" step="0.1" value="1.8"/>
          </div>
          <div>
            <div class="kv"><span>% Montañoso</span><span class="mini" id="mtnLbl">0.55</span></div>
            <input id="mtn" type="range" min="0.2" max="0.85" step="0.01" value="0.55"/>
          </div>
        </div>
      </div>

        <div class="settings-section">
          <h4>Ajustes por ejército</h4>
          <div id="teamsPanel" class="team-settings"></div>
          <template id="teamRowTemplate">
            <div class="teamRow">
              <span class="dot"></span>
              <strong class="teamName"></strong>
              <input class="team-size" type="number" min="4" max="16" step="1" value="8"/>
              <select class="team-comp">
                <option value="balanced">Equilibrada (8)</option>
                <option value="melee">Cuerpo a cuerpo (8)</option>
                <option value="ranged">A distancia (8)</option>
                <option value="support">Soporte (8)</option>
                <option value="random">Aleatoria (8)</option>
              </select>
              <div class="bar" style="flex:1"><div class="fill"></div></div>
              <span class="team-count" style="width:64px; text-align:right"></span>
            </div>
          </template>
        </div>

      <div class="row">
        <div class="log" id="log"><div>[Sistema] Listo.</div></div>
      </div>
    </div>

    <div class="panel bottom">
      <button id="startBtn" class="btn">Iniciar batalla</button>
      <button id="pauseBtn" class="btn" disabled>Pausar</button>
      <button id="resetBtn" class="btn alt">Reiniciar</button>
      <span class="mini">Rueda: zoom — Izq: rotar — Der: desplazar</span>
    </div>
  </div>
  <button id="toggleUi" title="Minimizar panel">⊟</button>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script type="module" src="main.js"></script>
</body>
</html>
